<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>YouTube Player â€” animation</title>
<style>
  :root{
    --bg:#060712;
    --bar:#ffffff;
    --muted:#94a3b8;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;}
  body{
    background:var(--bg);
    color: #fff;
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
  }

  /* background player */
  #player {
    position:fixed;
    inset:0;
    z-index:0;
    background:#000;
  }
  #player iframe{
    width:100%;
    height:100%;
    border:0;
    display:block;
  }

  /* center bar */
  .bar-wrap {
    position:relative;
    z-index:2;
    width:min(880px,92%);
    max-width:980px;
    display:flex;
    justify-content:center;
    align-items:center;
    pointer-events:auto;
  }

  .bar {
    width:100%;
    display:flex;
    align-items:center;
    gap:12px;
    background:var(--bar);
    color:#071127;
    padding:14px 18px;
    border-radius:12px;
    box-shadow:0 12px 40px rgba(2,6,23,0.6);
    transform:translateY(0);
    will-change:transform, opacity;
  }

  .bar input{
    flex:1;
    border:0;
    outline:0;
    font-size:16px;
    font-weight:600;
    background:transparent;
    color:inherit;
  }
  .bar button{
    background:#071127;
    color:#fff;
    border:0;
    padding:10px 14px;
    border-radius:8px;
    font-weight:700;
    cursor:pointer;
  }

  /* shake for invalid input */
  .shake { animation:shake 420ms; }
  @keyframes shake {
    0%{ transform:translateX(0) } 20%{ transform:translateX(-8px) }
    40%{ transform:translateX(6px) } 60%{ transform:translateX(-4px) }
    80%{ transform:translateX(2px) } 100%{ transform:translateX(0) }
  }

  /* animation: starts slow, then accelerates and flies off top */
  .launched .bar {
    animation: liftAway 820ms forwards;
    animation-timing-function: linear;
    opacity:1;
  }

  @keyframes liftAway {
    0%   { transform: translateY(0); opacity:1; }
    25%  { transform: translateY(-6vh); opacity:0.98; }
    55%  { transform: translateY(-30vh); opacity:0.86; }
    80%  { transform: translateY(-80vh); opacity:0.6; }
    100% { transform: translateY(-140vh); opacity:0; }
  }

  /* once hidden, remove pointer events so nothing interferes */
  .gone { display:none !important; }

  @media (max-width:520px){
    .bar { padding:12px 12px; font-size:15px; gap:8px; }
    .bar button{ padding:9px 10px; }
  }
</style>
</head>
<body>
  <!-- Player in background -->
  <div id="player" aria-hidden="true">
    <iframe id="ytframe"
      src=""
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      allowfullscreen
      title="YouTube player"></iframe>
  </div>

  <!-- Center input bar -->
  <div class="bar-wrap" id="barWrap">
    <form id="form" class="bar" autocomplete="off" spellcheck="false" novalidate>
      <input id="input" type="text" placeholder="Paste YouTube link or ID (e.g. goiWrNiaT0I)" aria-label="YouTube link or ID" />
      <button type="submit">Launch</button>
    </form>
  </div>

<script>
(function(){
  const form = document.getElementById('form');
  const input = document.getElementById('input');
  const frame = document.getElementById('ytframe');
  const body = document.body;
  const wrap = document.getElementById('barWrap');

  function parseYouTubeId(text){
    if(!text) return null;
    text = text.trim();
    const raw = text.match(/^([A-Za-z0-9_-]{11})$/);
    if(raw) return raw[1];
    try {
      const maybe = text.includes('://') ? text : 'https://'+text;
      const url = new URL(maybe);
      const host = url.hostname.toLowerCase();
      if(host === 'youtu.be'){
        const id = url.pathname.slice(1).split(/[?/]/)[0];
        if(id && id.length===11) return id;
      }
      if(host.endsWith('youtube.com') || host.endsWith('youtube-nocookie.com')){
        const v = url.searchParams.get('v');
        if(v && /^[A-Za-z0-9_-]{11}$/.test(v)) return v;
        const seg = url.pathname.split('/');
        for(let i=seg.length-1;i>=0;i--){
          if(/^[A-Za-z0-9_-]{11}$/.test(seg[i])) return seg[i];
        }
      }
      const m = text.match(/([A-Za-z0-9_-]{11})/);
      if(m) return m[1];
    } catch(e){
      const m = text.match(/([A-Za-z0-9_-]{11})/);
      if(m) return m[1];
    }
    return null;
  }

  function showInvalid(){
    wrap.classList.add('shake');
    setTimeout(()=> wrap.classList.remove('shake'), 420);
  }

  form.addEventListener('submit', function(e){
    e.preventDefault();
    const id = parseYouTubeId(input.value);
    if(!id){
      showInvalid();
      return;
    }

    const src = `https://www.youtube-nocookie.com/embed/${id}?autoplay=1&playsinline=1`;
    // set src before animation so it loads as the bar moves
    frame.src = src;

    body.classList.add('launched');
    wrap.style.pointerEvents = 'none';
    // after animation completes, hide the bar entirely
    const onAnimEnd = function(){
      if(wrap && wrap.parentNode){
        wrap.classList.add('gone');
      }
      form.removeEventListener('animationend', onAnimEnd);
    };
    form.addEventListener('animationend', onAnimEnd);
    input.blur();
  });
})();
</script>
</body>
</html>
