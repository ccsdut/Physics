<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO & Social Sharing -->
  <title>ðŸŽ® Rat Games</title>
  <link rel="icon" href="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/favicon.png" type="image/png" />
  <link rel="manifest" href="/install/manifest.json" />
  <meta name="description" content="Play unblocked games like Subway Surfers, Minecraft, and Moto X3M at RatGames â€” the meme-powered site with spinning rats, no downloads, and full browser support." />
  <meta name="keywords" content="unblocked games, free games online, browser games, school games, HTML5 games, play games at school, meme games, no download games, fun web games, RatGames, funny games, safe games for school, rat website, coolmath alternative, game site with rats" />
  <link rel="canonical" href="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/" />

  <!-- Open Graph (for social sharing previews) -->
  <meta property="og:title" content="ðŸ€ðŸŽ® RatGames â€“ Meme-Powered Unblocked Games" />
  <meta property="og:description" content="Play unblocked browser games with spinning rats. Featuring Subway Surfers, Minecraft, Moto X3M and more!" />
  <meta property="og:image" content="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/rat-spinning.gif" />
  <meta property="og:url" content="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      background-color: black;
      color: white;
      font-family: sans-serif;
      overflow-y: scroll;
      scrollbar-width: none; /* Firefox */
    }

    body::-webkit-scrollbar {
      display: none; /* Chrome, Safari, Opera */
    }

    iframe {
      border: none;
      width: 100%;
      height: 100vh;
    }

    .home-button {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 999;
      background-color: #333;
      border: none;
      padding: 0;
      cursor: pointer;
      width: 44px;
      height: 44px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s ease;
    }

    .home-button:hover {
      background-color: #555;
    }

    .home-icon {
      width: 80%;
      height: 80%;
    }

    #fullscreen-btn,
    #installBtn {
      position: fixed;
      top: 20px;
      background-color: #333;
      border: none;
      border-radius: 10px;
      padding: 10px;
      cursor: pointer;
      z-index: 1000;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s ease;
    }

    #fullscreen-btn {
      right: 20px;
    }

    #installBtn {
      right: 74px;
      display: none;
    }

    #fullscreen-btn:hover,
    #installBtn:hover {
      background-color: #555;
    }

    #fullscreen-btn img,
    #installBtn img {
      max-width: 24px;
      max-height: 24px;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <!-- Home Button -->
  <button class="home-button" onclick="window.location.href='/'" title="Home">
    <img src="/media/homeicon.png" alt="Home Icon" class="home-icon" />
  </button>

  <!-- Install Button -->
  <button id="installBtn" title="Install App">
    <img src="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/install.png" alt="Install" />
  </button>

  <!-- Fullscreen Button -->
  <button id="fullscreen-btn" onclick="toggleFullscreen()" title="Toggle Fullscreen">
    <img src="/media/fullscreen.png" alt="Fullscreen" />
  </button>

  <!-- Game Iframe -->
  <iframe
    src="https://ratgames.vercel.app/home.html"
    allow="fullscreen; pointer-lock; autoplay; encrypted-media"
    allowfullscreen="true">
  </iframe>

  <script>
    function toggleFullscreen() {
      const elem = document.documentElement;
      if (!document.fullscreenElement) {
        elem.requestFullscreen?.() || elem.webkitRequestFullscreen?.() || elem.msRequestFullscreen?.();
      } else {
        document.exitFullscreen?.() || document.webkitExitFullscreen?.() || document.msExitFullscreen?.();
      }
    }

    // PWA Install Handling
    let deferredPrompt;
    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;

      const installBtn = document.getElementById("installBtn");
      if (installBtn) installBtn.style.display = "flex";

      installBtn?.addEventListener("click", () => {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === "accepted") {
            console.log("User accepted the install prompt");
          } else {
            console.log("User dismissed the install prompt");
          }
          deferredPrompt = null;
          installBtn.style.display = "none";
        });
      });
    });

    // Optional: Register service worker
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker
          .register("/install/service-worker.js")
          .then((reg) => console.log("Service Worker registered:", reg.scope))
          .catch((err) => console.error("Service Worker registration failed:", err));
      });
    }
  </script>
</body>
</html>
