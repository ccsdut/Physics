<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- SEO & Social Sharing -->
  <title>ðŸŽ® Rat Games</title>
  <link rel="icon" href="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/favicon.png" type="image/png" />
  <link rel="manifest" href="/install/manifest.json" />
  <meta name="description" content="Play unblocked games like Subway Surfers, Minecraft, and Moto X3M at RatGames â€” the meme-powered site with spinning rats, no downloads, and full browser support." />
  <meta name="keywords" content="unblocked games, free games online, browser games, school games, HTML5 games, play games at school, meme games, no download games, fun web games, RatGames, funny games, safe games for school, rat website, coolmath alternative, game site with rats" />
  <link rel="canonical" href="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/" />

  <!-- Open Graph (for social sharing previews) -->
  <meta property="og:title" content="ðŸ€ðŸŽ® RatGames â€“ Meme-Powered Unblocked Games" />
  <meta property="og:description" content="Play unblocked browser games with spinning rats. Featuring Subway Surfers, Minecraft, Moto X3M and more!" />
  <meta property="og:image" content="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/rat-spinning.gif" />
  <meta property="og:url" content="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/" />
  <meta name="twitter:card" content="summary_large_image" />

  <style>
    body, html {
      margin: 0; padding: 0; height: 100%; background: black; overflow: hidden; font-family: sans-serif; color: white;
    }
    .top-bar {
      position: fixed; top: 0; left: 0; right: 0; height: 60px; background: black;
      display: flex; align-items: center; padding: 0 20px; box-sizing: border-box;
      justify-content: space-between; z-index: 9999;
    }
    .left-buttons, .right-buttons {
      display: flex; align-items: center; gap: 12px;
    }
    button {
      background: #222; border: none; border-radius: 10px;
      width: 44px; height: 44px; cursor: pointer;
      display: flex; justify-content: center; align-items: center;
      transition: background-color 0.3s ease;
    }
    button:hover { background: #555; }
    button img {
      max-width: 24px;
      max-height: 24px;
      pointer-events: none;
    }
    /* Bigger home icon */
    .home-button img {
      width: 36px;
      height: 36px;
      max-width: none;
      max-height: none;
    }
    iframe {
      position: fixed; top: 60px; left: 0; width: 100%; height: calc(100vh - 60px);
      border: none; background: black;
    }
  </style>
</head>
<body>

  <div class="top-bar">
    <div class="left-buttons">
      <button class="home-button" title="Home" onclick="location.href='/'">
        <img src="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/homeicon.png" alt="Home" />
      </button>
    </div>
    <div class="right-buttons">
      <button id="installBtn" title="Install App" style="display:none;">
        <img src="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/install.png" alt="Install" />
      </button>
      <button id="fullscreen-btn" title="Fullscreen" onclick="toggleIframeFullscreen()">
        <img src="https://cty3ctyc42yjmxt3499ctn924u9xaje5y.vercel.app/media/fullscreen.png" alt="Fullscreen" />
      </button>
    </div>
  </div>

  <iframe id="game-iframe" src="https://ratgames.vercel.app/files/home.html" allow="fullscreen; pointer-lock; autoplay; encrypted-media" allowfullscreen></iframe>

  <script>
    function toggleIframeFullscreen() {
      const iframe = document.getElementById('game-iframe');
      if (!document.fullscreenElement) {
        iframe.requestFullscreen?.() || iframe.webkitRequestFullscreen?.() || iframe.msRequestFullscreen?.();
      } else {
        document.exitFullscreen?.() || document.webkitExitFullscreen?.() || document.msExitFullscreen?.();
      }
    }

    // PWA install prompt
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      const installBtn = document.getElementById('installBtn');
      installBtn.style.display = 'flex';
      installBtn.onclick = () => {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(choiceResult => {
          if (choiceResult.outcome === 'accepted') {
            console.log('User accepted install prompt');
          } else {
            console.log('User dismissed install prompt');
          }
          deferredPrompt = null;
          installBtn.style.display = 'none';
        });
      };
    });

    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/install/service-worker.js')
          .then(reg => console.log('Service Worker registered:', reg.scope))
          .catch(err => console.error('Service Worker failed:', err));
      });
    }
  </script>

</body>
</html>
