<!DOCTYPE html>
<html>
  <head>
    <title>Movies</title>
    <script>
      try {
        // Check if this page is being embedded (i.e., in an iframe)
        if (window.top !== window.self) {
          // Try to access the top window's location â€” will throw an error if cross-origin (like Google Sites)
          const host = window.top.location.hostname;

          // If the host matches Google Sites
          if (host === "sites.google.com") {
            document.write(`
              <style>
                html, body {
                  margin: 0;
                  padding: 0;
                  height: 100%;
                  background: black;
                  color: white;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  font-family: Arial, sans-serif;
                  font-size: 2em;
                  text-align: center;
                }
              </style>
              <div>This site is not allowed to embed this page.</div>
            `);
            window.stop();
          }
        }
      } catch (e) {
        // If accessing top fails (sandboxed or cross-origin), treat it as unauthorized
        document.write(`
          <style>
            html, body {
              margin: 0;
              padding: 0;
              height: 100%;
              background: black;
              color: white;
              display: flex;
              justify-content: center;
              align-items: center;
              font-family: Arial, sans-serif;
              font-size: 2em;
              text-align: center;
            }
          </style>
          <div>This site is not allowed to embed this page.</div>
        `);
        window.stop();
      }
    </script>
  </head>
  <body style="margin: 0;">
    <iframe id="movie" src="https://i-love-movies.global.ssl.fastly.net/" style="width: 100%; height: 100vh; border: none;" allowfullscreen></iframe>

    <script>
      const iframe = document.getElementById('movie');

      function goFullscreen() {
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
          iframe.mozRequestFullScreen();
        } else if (iframe.webkitRequestFullscreen) {
          iframe.webkitRequestFullscreen();
        } else if (iframe.msRequestFullscreen) {
          iframe.msRequestFullscreen();
        }
      }

      iframe.addEventListener('click', goFullscreen);
    </script>
  </body>
</html>
